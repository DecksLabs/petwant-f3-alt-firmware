<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="style.css" />
    <script src="jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="></script>
    <script>
      $(document).ready(function() {
      $.getJSON('/schedule',
        function(JSONdata) {
          for (key in JSONdata) {
            if (JSONdata.hasOwnProperty(key)){
              if(key.includes("_a")){
                document.getElementById(key).checked = JSONdata[key];
              }
              else{
                $('input[name=' + key + ']').val(JSONdata[key]);
              }
            }
          }
        });
      });
    </script>
  </head>
<title>Cat Feeder: Schedule</title>
<body>

<div class="center">
<h2>Cat Feeder</h2>
<h3>Schedule</h3>

<form id="schedule" action="/schedule" method="post">
  <table class="center">
    <tr><th>#</th><th>En</th><th>Time</th><th>Portions</th></tr>
    <tr>
      <td>1:</td>
      <td><input type="checkbox" id="f0_a" name="f0_a"></td>
      <td><input type="number" id="f0_h" name="f0_h" min="0" max="23">:<input type="number" id="f0_m" name="f0_m" min="0" max="59"></td>
      <td><input type="number" id="f0_n" name="f0_n" min="1" max="10"></td>
    </tr>
    <tr>
      <td>2:</td>
      <td><input type="checkbox" id="f1_a" name="f1_a"></td>
      <td><input type="number" id="f1_h" name="f1_h" min="0" max="23">:<input type="number" id="f1_m" name="f1_m" min="0" max="59"></td>
      <td><input type="number" id="f1_n" name="f1_n" min="1" max="10"></td>
    </tr>
    <tr>
      <td>3:</td>
      <td><input type="checkbox" id="f2_a" name="f2_a"></td>
      <td><input type="number" id="f2_h" name="f2_h" min="0" max="23">:<input type="number" id="f2_m" name="f2_m" min="0" max="59"></td>
      <td><input type="number" id="f2_n" name="f2_n" min="1" max="10"></td>
    </tr>
    <tr>
      <td>4:</td>
      <td><input type="checkbox" id="f3_a" name="f3_a"></td>
      <td><input type="number" id="f3_h" name="f3_h" min="0" max="23">:<input type="number" id="f3_m" name="f3_m" min="0" max="59"></td>
      <td><input type="number" id="f3_n" name="f3_n" min="1" max="10"></td>
    </tr>
    <tr>
      <td>5:</td>
      <td><input type="checkbox" id="f4_a" name="f4_a"></td>
      <td><input type="number" id="f4_h" name="f4_h" min="0" max="23">:<input type="number" id="f4_m" name="f4_m" min="0" max="59"></td>
      <td><input type="number" id="f4_n" name="f4_n" min="1" max="10"></td>
    </tr>
    <tr>
      <td>6:</td>
      <td><input type="checkbox" id="f5_a" name="f5_a"></td>
      <td><input type="number" id="f5_h" name="f5_h" min="0" max="23">:<input type="number" id="f5_m" name="f5_m" min="0" max="59"></td>
      <td><input type="number" id="f5_n" name="f5_n" min="1" max="10"></td>
    </tr>
    <tr>
      <td>7:</td>
      <td><input type="checkbox" id="f6_a" name="f6_a"></td>
      <td><input type="number" id="f6_h" name="f6_h" min="0" max="23">:<input type="number" id="f6_m" name="f6_m" min="0" max="59"></td>
      <td><input type="number" id="f6_n" name="f6_n" min="1" max="10"></td>
    </tr>
    <tr>
      <td>8:</td>
      <td><input type="checkbox" id="f7_a" name="f7_a"></td>
      <td><input type="number" id="f7_h" name="f7_h" min="0" max="23">:<input type="number" id="f7_m" name="f7_m" min="0" max="59"></td>
      <td><input type="number" id="f7_n" name="f7_n" min="1" max="10"></td>
    </tr>
  </table>
  <input class="button" type="submit" value="Save">
</form>

<button onclick="history.back()" type="button" class="button">Go back</button> <br />

</div>
</body>
</html>
